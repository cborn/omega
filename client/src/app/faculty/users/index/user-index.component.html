<div class="index">
    <div class="standard-table-width centered">
        <h1 class="">Users</h1>
        <mat-table class=" mat-elevation-z8 " style="width: 100%" [dataSource]="dataSource">

            <ng-container matColumnDef="id">
                <mat-header-cell *matHeaderCellDef>Course Id</mat-header-cell>
                <mat-cell *matCellDef="let user">{{user.id}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="username">
                <mat-header-cell *matHeaderCellDef>username</mat-header-cell>
                <mat-cell *matCellDef="let user">{{user.username}}</mat-cell>
            </ng-container>

            <ng-container matColumnDef="fullName">
                <mat-header-cell *matHeaderCellDef>Full Name</mat-header-cell>
                <mat-cell *matCellDef="let user">{{user.fullName}}</mat-cell>
            </ng-container>
            <ng-container matColumnDef="fromMoodle">
                <mat-header-cell *matHeaderCellDef>Moodle User</mat-header-cell>
                <mat-cell *matCellDef="let user">{{user.fromMoodle}}</mat-cell>
            </ng-container>


            <ng-container matColumnDef="actions">
                <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
                <mat-cell *matCellDef="let user">

                    <button mat-stroked-button color="accent" (click)="userService.editingUser = user"
                            [routerLink]="'/user/edit/'+user.id">Edit
                    </button>&nbsp;
                    <button mat-stroked-button color="warn"
                            *ngIf="sessionManagerService.getUsername() !== user.username" (click)="delete(user.id)">
                        Delete
                    </button>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

        </mat-table>
        <div class="padding-10">
            <button mat-fab color="primary" routerLink="/user/create"><i class="material-icons">add</i></button>
        </div>
    </div>

</div>
